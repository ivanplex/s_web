!function(e,t){"object"==typeof exports?module.exports=t(e,e.document):"function"==typeof define&&define.amd?define(function(){return t(e,e.document)}):e.Sketch=t(e,e.document)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n="E LN10 LN2 LOG2E LOG10E PI SQRT1_2 SQRT2 abs acos asin atan ceil cos exp floor log round sin sqrt tan atan2 pow max min".split(" "),o="__hasSketch",r=Math,i="canvas",a="webgl",u="dom",c=t,l=e,s=[],f={fullscreen:!1,height:800,autostart:!0,autoclear:!0,autopause:!0,container:c.body,interval:1,globals:!0,retina:!1,type:i},d={8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",27:"ESCAPE",32:"SPACE",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN"};function p(e){return"function"==typeof e}function g(e){return"string"==typeof e}function h(e,t,n){for(var o in t)!n&&o in e||(e[o]=t[o]);return e}function m(e,t){return function(){e.apply(t,arguments)}}function y(e){var n,o,r,a,f,y,v,w,x,b,E,C,k,P,T,S,O,R=0,I=[],L=!1,_=!1,D=l.devicePixelRatio||1,W=e.type==u,z=e.type==i,B={x:0,y:0,ox:0,oy:0,dx:0,dy:0},G=[e.eventTarget||e.element,q,"mousedown","touchstart",q,"mousemove","touchmove",q,"mouseup","touchend",q,"click",q,"mouseout",q,"mouseover",c,function(t){C=t.keyCode,k="keyup"==t.type,F[C]=F[(n=C,d[n]||String.fromCharCode(n))]=!k,H(e[t.type],t);var n},"keydown","keyup",l,function(t){e.autopause&&("blur"==t.type?U:Q)();H(e[t.type],t)},"focus","blur",X,"resize"],F={};for(C in d)F[d[C]]=!1;function H(t){p(t)&&t.apply(e,[].splice.call(arguments,1))}function M(e){for(y=0;y<G.length;y++)g(x=G[y])?r[(e?"add":"remove")+"EventListener"].call(r,x,o,!1):p(x)?o=x:r=x}function X(){r=W?e.style:e.canvas,v=W?"px":"",S=e.width,O=e.height,null==e.width&&(S=e.width=t.body.clientWidth-15),e.fullscreen&&(O=e.height=l.innerHeight,S=e.width=l.innerWidth),e.retina&&z&&D&&(r.style.height=O+"px",r.style.width=S+"px",S*=D,O*=D),r.height!==O&&(r.height=O+v),r.width!==S&&(r.width=S+v),z&&!e.autoclear&&e.retina&&e.scale(D,D),_&&H(e.resize)}function Y(t,n){var o,r;return o=t,r=e.element,f=r.getBoundingClientRect(),o.x=o.pageX-f.left-(l.scrollX||l.pageXOffset),o.y=o.pageY-f.top-(l.scrollY||l.pageYOffset),(n=n||{}).ox=n.x||t.x,n.oy=n.y||t.y,n.x=t.x,n.y=t.y,n.dx=n.x-n.ox,n.dy=n.y-n.oy,n}function j(e){if(e.preventDefault(),(b=function(e){var t={};for(var n in e)"webkitMovementX"!==n&&"webkitMovementY"!==n&&(p(e[n])?t[n]=m(e[n],e):t[n]=e[n]);return t}(e)).originalEvent=e,b.touches)for(I.length=b.touches.length,y=0;y<b.touches.length;y++)I[y]=Y(b.touches[y],I[y]);else I.length=0,I[0]=Y(b,B);return h(B,I[0],!0),b}function q(t){for(t=j(t),P=(T=G.indexOf(E=t.type))-1,e.dragging=!!/down|start/.test(E)||!/up|end/.test(E)&&e.dragging;P;)g(G[P])?H(e[G[P--]],t):g(G[T])?H(e[G[T++]],t):P=0}function Q(){e.now=+new Date,e.running=!0}function U(){e.running=!1}return h(e,{touches:I,mouse:B,keys:F,dragging:!1,running:!1,millis:0,now:NaN,dt:NaN,destroy:function(){a=e.element.parentNode,y=s.indexOf(e),a&&a.removeChild(e.element),~y&&s.splice(y,1),M(!1),U()},toggle:function(){(e.running?U:Q)()},clear:function(){z&&e.clearRect(0,0,e.width*D,e.height*D)},start:Q,stop:U}),s.push(e),e.autostart&&Q(),M(!0),X(),function t(){N(n),n=A(t),_||(H(e.setup),_=p(e.setup)),L||(H(e.resize),L=p(e.resize)),e.running&&!R&&(e.dt=(w=+new Date)-e.now,e.millis+=e.dt,e.now=w,H(e.update),z&&(e.retina&&(e.save(),e.autoclear&&e.scale(D,D)),e.autoclear&&e.clear()),H(e.draw),z&&e.retina&&e.restore()),R=++R%e.interval}(),e}for(var v,w,x={CANVAS:i,WEB_GL:a,WEBGL:a,DOM:u,instances:s,install:function(e){if(!e[o]){for(var t=0;t<n.length;t++)e[n[t]]=r[n[t]];h(e,{TWO_PI:2*r.PI,HALF_PI:r.PI/2,QUARTER_PI:r.PI/4,random:function(e,t){return n=e,"[object Array]"==Object.prototype.toString.call(n)?e[~~(r.random()*e.length)]:("number"!=typeof t&&(t=e||1,e=0),e+r.random()*(t-e));var n},lerp:function(e,t,n){return e+n*(t-e)},map:function(e,t,n,o,r){return(e-t)/(n-t)*(r-o)+o}}),e[o]=!0}},create:function(e){return(e=h(e||{},f)).globals&&x.install(self),v=e.element=e.element||c.createElement(e.type===u?"div":"canvas"),w=e.context=e.context||function(){switch(e.type){case i:return v.getContext("2d",e);case a:return v.getContext("webgl",e)||v.getContext("experimental-webgl",e);case u:return v.canvas=v}}(),(e.container||c.body).appendChild(v),x.augment(w,e)},augment:function(e,t){return(t=h(t||{},f)).element=e.canvas||e,t.element.className+=" sketch",h(e,t,!0),y(e)}},b=["ms","moz","webkit","o"],E=self,C=0,k="AnimationFrame",P="request"+k,T="cancel"+k,A=E[P],N=E[T],S=0;S<b.length&&!A;S++)A=E[b[S]+"Request"+k],N=E[b[S]+"Cancel"+k];return E[P]=A=A||function(e){var t=+new Date,n=r.max(0,16-(t-C)),o=setTimeout(function(){e(t+n)},n);return C=t+n,o},E[T]=N=N||function(e){clearTimeout(e)},x});